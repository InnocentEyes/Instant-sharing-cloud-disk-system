{"remainingRequest":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\src\\views\\Friend.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\src\\views\\Friend.vue","mtime":1649302966045},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\babel.config.js","mtime":1648731836805},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644659374966},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\babel-loader\\lib\\index.js","mtime":1644659375490},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644659374966},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1644659453726}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgR2V0RnJpZW5kTWVzc2FnZUFQSSwgUG9zdEZyaWVuZEFncmVlQVBJLCBQb3N0RnJpZW5kUmVmdXNlQVBJLCBQb3N0Q2xlYXJNZXNzYWdlQVBJIH0gZnJvbSAiLi4vcmVxdWVzdC9hcGkiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkZyaWVuZCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3c6IGZhbHNlLAogICAgICAvL+iOt+WPluWlveWPi+ivt+axguWIl+ihqCDlpb3lj4vlpLTlg4/jgIHlpb3lj4vmmLXnp7AKICAgICAgZnJpZW5kX21lc3NhZ2U6IFtdLAogICAgICB0b2tlbjogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInRva2VuIik7CiAgICBHZXRGcmllbmRNZXNzYWdlQVBJKHsKICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsgLy8gdGhpcy5mcmllbmRfbWVzc2FnZSA9IFsKICAgICAgLy8gICB7IGlkOiAxLCB1cmw6IHJlcXVpcmUoIi4uL2ltZy9hdmF0YXIuanBnIiksIG5pY2tuYW1lOiAibGl1eWluZ3lpbmciIH0KICAgICAgLy8gXTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIH0pOwogICAgdGhpcy5mcmllbmRfbWVzc2FnZSA9IFtdOwogIH0sCiAgbWV0aG9kczogewogICAgcmVmdXNlOiBmdW5jdGlvbiByZWZ1c2UoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oIuehruiupOaLkue7nSIgKyB0aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5uaWNrbmFtZSArICLnmoTlpb3lj4vor7fmsYLlkJfvvJ8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGFkZGltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImFkZGltZyIpW2luZGV4XTsKICAgICAgICBhZGRpbWcuaW5uZXJIVE1MID0gIuW3suaLkue7nSI7CiAgICAgICAgYWRkaW1nLmNsYXNzTGlzdC5hZGQoIm5ld3N0eWxlIik7IC8v5Y+R6YCB5ouS57ud6K+35rGC57uZ5ZCO56uvCgogICAgICAgIFBvc3RGcmllbmRSZWZ1c2VBUEkoewogICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgICAgSWQ6IF90aGlzLmZyaWVuZF9tZXNzYWdlW2luZGV4XS5pZCAvL+aLkue7neeahOaYr+WlveWPi+a2iOaBr+WIl+ihqOmHjOmdoueahOWTquS4qmlkCgogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICB9KTsKICAgIH0sCiAgICBhZ3JlZTogZnVuY3Rpb24gYWdyZWUoaW5kZXgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTlkIzmhI8iICsgdGhpcy5mcmllbmRfbWVzc2FnZVtpbmRleF0ubmlja25hbWUgKyAi55qE5aW95Y+L6K+35rGC5ZCX77yfIiwgIuaPkOekuiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBhZGRpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJhZGRpbWciKVtpbmRleF07CiAgICAgICAgYWRkaW1nLmlubmVySFRNTCA9ICLlt7LlkIzmhI8iOwogICAgICAgIGFkZGltZy5jbGFzc0xpc3QuYWRkKCJuZXdzdHlsZSIpOyAvL+WPkemAgeWQjOaEj+ivt+axgue7meWQjuerrwoKICAgICAgICBQb3N0RnJpZW5kQWdyZWVBUEkoewogICAgICAgICAgdG9rZW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpLAogICAgICAgICAgSWQ6IF90aGlzMi5mcmllbmRfbWVzc2FnZVtpbmRleF0uaWQgLy/lkIzmhI/nmoTmmK/lpb3lj4vmtojmga/liJfooajph4zpnaLnmoTlk6rkuKppZAoKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIGNvbnNvbGUubG9nKCLlj5bmtogiKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlbWVzc2FnZTogZnVuY3Rpb24gZGVsZXRlbWVzc2FnZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICAvL+a4heepuuWHveaVsAogICAgICB0aGlzLiRjb25maXJtKCLnoa7orqTmuIXnqbrmiYDmnInnmoTlpb3lj4vor7fmsYLlkJfvvJ8iLCAi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgLy/noa7orqTlkIzmhI8KICAgICAgICBfdGhpczMuZnJpZW5kX21lc3NhZ2UgPSBbXTsKICAgICAgICBQb3N0Q2xlYXJNZXNzYWdlQVBJKHsKICAgICAgICAgIHRva2VuOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2coIuWPlua2iCIpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA,SACAA,mBADA,EAEAC,kBAFA,EAGAC,mBAHA,EAIAC,mBAJA,QAKA,gBALA;AAMA;AACAC,gBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,iBADA;AAEA;AACAC,wBAHA;AAIAC;AAJA;AAMA,GATA;AAUAC,SAVA,qBAUA;AACA;AACAT;AACAQ;AADA,OAGAE,IAHA,CAGA;AACAC,uBADA,CAEA;AACA;AACA;AACA,KARA,EASAC,KATA,CASA;AACAD;AACA,KAXA;AAYA;AACA,GAzBA;AA0BAE;AACAC,UADA,kBACAC,KADA,EACA;AAAA;;AACA,oBACA,wDADA,EAEA,IAFA,EAGA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,OAHA,EASAR,IATA,CASA;AACA;AACAS;AACAA,yCAHA,CAIA;;AACAjB;AACAM,8CADA;AAEAY,4CAFA,CAEA;;AAFA,WAIAV,IAJA,CAIA;AACAC;AACA,SANA,EAOAC,KAPA,CAOA;AACAD;AACA,SATA;AAUA,OAxBA,EAyBAC,KAzBA,CAyBA;AACAD;AACA,OA3BA;AA4BA,KA9BA;AA+BAU,SA/BA,iBA+BAN,KA/BA,EA+BA;AAAA;;AACA,oBACA,wDADA,EAEA,IAFA,EAGA;AACAC,+BADA;AAEAC,8BAFA;AAGAC;AAHA,OAHA,EASAR,IATA,CASA;AACA;AACAS;AACAA,yCAHA,CAIA;;AACAlB;AACAO,8CADA;AAEAY,6CAFA,CAEA;;AAFA,WAIAV,IAJA,CAIA;AACAC;AACA,SANA,EAOAC,KAPA,CAOA;AACAD;AACA,SATA;AAUA,OAxBA,EAyBAC,KAzBA,CAyBA;AACAD;AACA,OA3BA;AA4BA,KA5DA;AA6DAW,iBA7DA,2BA6DA;AAAA;;AACA;AACA;AACAN,+BADA;AAEAC,8BAFA;AAGAC;AAHA,SAKAR,IALA,CAKA;AACA;AACA;AACAP;AACAK;AADA,WAGAE,IAHA,CAGA;AACAC;AACA,SALA,EAMAC,KANA,CAMA;AACAD;AACA,SARA;AASA,OAjBA,EAkBAC,KAlBA,CAkBA;AACAD;AACA,OApBA;AAqBA;AApFA;AA1BA","names":["GetFriendMessageAPI","PostFriendAgreeAPI","PostFriendRefuseAPI","PostClearMessageAPI","name","data","show","friend_message","token","created","then","console","catch","methods","refuse","index","confirmButtonText","cancelButtonText","type","addimg","Id","agree","deletemessage"],"sourceRoot":"src/views","sources":["Friend.vue"],"sourcesContent":["<template>\r\n  <div class=\"friend\">\r\n    <div class=\"newfriend\">\r\n      <div class=\"newfriend_top\">\r\n        <p>好友信息</p>\r\n        <img\r\n          src=\"../img/delete.png\"\r\n          alt=\"\"\r\n          class=\"delete\"\r\n          title=\"清空\"\r\n          @click=\"deletemessage\"\r\n        />\r\n      </div>\r\n      <div class=\"newfriend_center\">\r\n        <div\r\n          class=\"item\"\r\n          v-for=\"(item, index) in friend_message\"\r\n          :key=\"index + 1\"\r\n        >\r\n          <img :src=\"item.url\" alt=\"\" class=\"avatar\" />\r\n          <p class=\"nickname\">{{ item.nickname }}</p>\r\n          <p class=\"message\">请求通过验证</p>\r\n          <div class=\"addimg\">\r\n            <p class=\"refuse\" @click=\"refuse(index)\">拒绝</p>\r\n            <p class=\"agree\" @click=\"agree(index)\">同意</p>\r\n            <div class=\"movein\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  GetFriendMessageAPI,\r\n  PostFriendAgreeAPI,\r\n  PostFriendRefuseAPI,\r\n  PostClearMessageAPI,\r\n} from \"../request/api\";\r\nexport default {\r\n  name: \"Friend\",\r\n  data() {\r\n    return {\r\n      show: false,\r\n      //获取好友请求列表 好友头像、好友昵称\r\n      friend_message: [],\r\n      token: null,\r\n    };\r\n  },\r\n  created() {\r\n    this.token = localStorage.getItem(\"token\");\r\n    GetFriendMessageAPI({\r\n      token: localStorage.getItem(\"token\"),\r\n    })\r\n      .then(function (res) {\r\n        console.log(res);\r\n        // this.friend_message = [\r\n        //   { id: 1, url: require(\"../img/avatar.jpg\"), nickname: \"liuyingying\" }\r\n        // ];\r\n      })\r\n      .catch(function (err) {\r\n        console.log(err);\r\n      });\r\n    this.friend_message = [];\r\n  },\r\n  methods: {\r\n    refuse(index) {\r\n      this.$confirm(\r\n        \"确认拒绝\" + this.friend_message[index].nickname + \"的好友请求吗？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      )\r\n        .then(() => {\r\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\r\n          addimg.innerHTML = \"已拒绝\";\r\n          addimg.classList.add(\"newstyle\");\r\n          //发送拒绝请求给后端\r\n          PostFriendRefuseAPI({\r\n            token: localStorage.getItem(\"token\"),\r\n            Id: this.friend_message[index].id, //拒绝的是好友消息列表里面的哪个id\r\n          })\r\n            .then(function (res) {\r\n              console.log(res);\r\n            })\r\n            .catch(function (err) {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          console.log(\"取消\");\r\n        });\r\n    },\r\n    agree(index) {\r\n      this.$confirm(\r\n        \"确认同意\" + this.friend_message[index].nickname + \"的好友请求吗？\",\r\n        \"提示\",\r\n        {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\",\r\n        }\r\n      )\r\n        .then(() => {\r\n          let addimg = document.getElementsByClassName(\"addimg\")[index];\r\n          addimg.innerHTML = \"已同意\";\r\n          addimg.classList.add(\"newstyle\");\r\n          //发送同意请求给后端\r\n          PostFriendAgreeAPI({\r\n            token: localStorage.getItem(\"token\"),\r\n            Id: this.friend_message[index].id, //同意的是好友消息列表里面的哪个id\r\n          })\r\n            .then(function (res) {\r\n              console.log(res);\r\n            })\r\n            .catch(function (err) {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          console.log(\"取消\");\r\n        });\r\n    },\r\n    deletemessage() {\r\n      //清空函数\r\n      this.$confirm(\"确认清空所有的好友请求吗？\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\",\r\n      })\r\n        .then(() => {\r\n          //确认同意\r\n          this.friend_message = [];\r\n          PostClearMessageAPI({\r\n            token: localStorage.getItem(\"token\"),\r\n          })\r\n            .then(function (res) {\r\n              console.log(res);\r\n            })\r\n            .catch(function (err) {\r\n              console.log(err);\r\n            });\r\n        })\r\n        .catch(() => {\r\n          console.log(\"取消\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.friend {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: calc(76% - 2px);\r\n  margin: 0;\r\n  right: 0;\r\n  z-index: 10;\r\n}\r\n.newfriend {\r\n  position: absolute;\r\n  background-color: #fff;\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n.newfriend_top {\r\n  position: absolute;\r\n  height: 10%;\r\n  width: 100%;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n.newfriend_top p {\r\n  position: absolute;\r\n  width: auto;\r\n  margin: 0;\r\n  left: 10%;\r\n  top: 50%;\r\n  font-weight: 600;\r\n  transform: translate(-50%, -50%);\r\n  font-size: 20px;\r\n  text-align: center;\r\n}\r\n.newfriend_center {\r\n  position: absolute;\r\n  height: calc(90% - 1px);\r\n  width: 100%;\r\n  bottom: 0;\r\n  overflow-y: scroll;\r\n  scrollbar-color: rgba(0, 0, 0, 0.2) rgba(0, 0, 0, 0.1); /* 第一个方块颜色，第二个轨道颜色(用于更改火狐浏览器样式) */\r\n  scrollbar-width: thin; /* 火狐滚动条无法自定义宽度，只能通过此属性使滚动条宽度变细 */\r\n  -ms-overflow-style: none; /* 隐藏滚动条（在IE和Edge两个浏览器中很难更改样式，固采取隐藏方式） */\r\n}\r\n\r\n.item {\r\n  position: relative;\r\n  border-bottom: 2px solid #e0e0e0;\r\n  height: 15%;\r\n  width: 70%;\r\n  left: 15%;\r\n}\r\n.item .avatar {\r\n  position: absolute;\r\n  height: 60%;\r\n  top: 20%;\r\n  left: 5%;\r\n}\r\n.item .nickname {\r\n  position: absolute;\r\n  height: 20%;\r\n  width: 60%;\r\n  left: 18%;\r\n  top: 20%;\r\n  margin: 0;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n}\r\n.item .message {\r\n  position: absolute;\r\n  left: 18%;\r\n  top: 50%;\r\n  margin: 0%;\r\n  color: #949191;\r\n  font-size: x-small;\r\n}\r\n.addimg {\r\n  position: absolute;\r\n  left: 80%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  cursor: pointer;\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 10px;\r\n  background-color: rgb(209, 208, 208);\r\n  color: #fff;\r\n  transition: all 0.5s;\r\n}\r\n.agree,\r\n.refuse {\r\n  font-size: 10px;\r\n  margin: 0;\r\n  padding: 5px 10px 5px 10px;\r\n  display: inline-flex;\r\n}\r\n\r\n.refuse {\r\n  display: none;\r\n}\r\n.addimg:hover .refuse {\r\n  display: inline;\r\n}\r\n.movein {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 50%;\r\n  left: 0%;\r\n  top: 0;\r\n  background-color: #46a3ff;\r\n  z-index: -1;\r\n  border-radius: 10px;\r\n  transition: left 0.5s;\r\n  visibility: hidden;\r\n}\r\n.addimg:hover .movein {\r\n  visibility: visible;\r\n}\r\n.agree:hover + .movein {\r\n  left: 50%;\r\n}\r\n.refuse:hover + .movein {\r\n  left: 0%;\r\n}\r\n.newstyle {\r\n  background-color: #fff;\r\n  font-size: 10px;\r\n  border: 0;\r\n  color: #949191;\r\n}\r\n.delete {\r\n  position: absolute;\r\n  height: 30%;\r\n  bottom: 5%;\r\n  right: 5%;\r\n  cursor: pointer;\r\n}\r\n</style>"]}]}