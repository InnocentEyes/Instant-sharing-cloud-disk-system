{"remainingRequest":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\src\\components\\Loginpage.vue?vue&type=style&index=0&id=67641d10&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\src\\components\\Loginpage.vue","mtime":1648454126486},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\css-loader\\dist\\cjs.js","mtime":1644659438132},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1644659453726},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\postcss-loader\\src\\index.js","mtime":1644659441183},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644659374966},{"path":"C:\\Users\\75178\\Desktop\\邮箱系统\\netdisk_mailbox_system\\node_modules\\vue-loader\\lib\\index.js","mtime":1644659453726}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQoubG9naW5wYWdlIHsNCiAgcG9zaXRpb246IGZpeGVkOw0KICBoZWlnaHQ6IDEwMCU7DQogIHdpZHRoOiAxMDAlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNCk7DQogIHotaW5kZXg6IDk5Ow0KICB2aXNpYmlsaXR5OiBoaWRkZW47DQp9DQoNCi5hbGwgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGhlaWdodDogNzAlOw0KICB3aWR0aDogNTUlOw0KICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICB0b3A6IDUwJTsNCiAgbGVmdDogNTAlOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgYm9yZGVyLXJhZGl1czogMTBweDsNCn0NCi5hbGwgLmNsb3NlIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBjdXJzb3I6IHBvaW50ZXI7DQogIGhlaWdodDogNCU7DQogIHRvcDogMiU7DQogIHJpZ2h0OiAyJTsNCn0NCi5oZWFydCB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgaGVpZ2h0OiAxMDAlOw0KICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAxMHB4Ow0KICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxMHB4Ow0KfQ0KLmxvZ2luLA0KLnNpZ24gew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGhlaWdodDogOTAlOw0KICB3aWR0aDogNDUlOw0KICBib3R0b206IDA7DQogIHJpZ2h0OiAwOw0KICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTBweDsNCn0NCi5zaWduIHsNCiAgaGVpZ2h0OiAwJTsNCiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsNCiAgdmlzaWJpbGl0eTogaGlkZGVuOw0KfQ0KLm5hbWUsDQoucGFzc3dvcmQsDQouc2lnbl9uYW1lLA0KLnNpZ25fbmlja25hbWUsDQouc2lnbl9waG9uZSwNCi5zaWduX3Bhc3N3b3JkLA0KLnNpZ25fdmVyaWZpY2F0aW9uLA0KLnJlcXVpcmUgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGhlaWdodDogOCU7DQogIHdpZHRoOiA5MCU7DQogIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgYm9yZGVyOiAxcHggc29saWQgI2UwZTBlMDsNCn0NCi5wYXNzd29yZCB7DQogIHRvcDogMzAlOw0KfQ0KLmxvZ2luX2luLA0KLnNpZ25faW4gew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIGhlaWdodDogOCU7DQogIHdpZHRoOiA1MCU7DQogIGxlZnQ6IDIwJTsNCiAgYmFja2dyb3VuZC1jb2xvcjogY29ybmZsb3dlcmJsdWU7DQogIGNvbG9yOiAjZmZmOw0KICB0b3A6IDQ1JTsNCiAgYm9yZGVyOiAwOw0KICBjdXJzb3I6IHBvaW50ZXI7DQogIGJvcmRlci1yYWRpdXM6IDEwcHg7DQp9DQoubG9naW5faW46aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBkYXJrYmx1ZTsNCn0NCi5mb3JnZXQsDQoubm9fY2NvdW50IHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDU1JTsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBmb250LXNpemU6IHNtYWxsZXI7DQogIGNvbG9yOiBkaW1ncmV5Ow0KfQ0KLm5vX2Njb3VudCB7DQogIHRvcDogNzAlOw0KfQ0KLnNpZ25faW4gew0KICB0b3A6IDgwJTsNCiAgYmFja2dyb3VuZC1jb2xvcjogY2FkZXRibHVlOw0KfQ0KLnNpZ25faW46aG92ZXIgew0KICBiYWNrZ3JvdW5kLWNvbG9yOiBicm93bjsNCn0NCi5kb3duIHsNCiAgcG9zaXRpb246IGFic29sdXRlOw0KICBoZWlnaHQ6IDEwJTsNCiAgY3Vyc29yOiBwb2ludGVyOw0KfQ0KLnNpZ25fbmFtZSB7DQogIHRvcDogMjUlOw0KfQ0KLnNpZ24gaDEgew0KICBwb3NpdGlvbjogYWJzb2x1dGU7DQogIHRvcDogMTAlOw0KfQ0KLnNpZ25fbmlja25hbWUgew0KICB0b3A6IDM4JTsNCn0NCi5zaWduX3Bob25lIHsNCiAgdG9wOiA1MSU7DQp9DQouc2lnbl9wYXNzd29yZCB7DQogIHRvcDogNjQlOw0KfQ0KLnNpZ25fdmVyaWZpY2F0aW9uIHsNCiAgdG9wOiA3NyU7DQp9DQoNCi5zaWduX2J0biB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgd2lkdGg6IDUwJTsNCiAgbGVmdDogMjAlOw0KICB0b3A6IDg4JTsNCiAgaGVpZ2h0OiA4JTsNCiAgYmFja2dyb3VuZC1jb2xvcjogY29ybmZsb3dlcmJsdWU7DQogIGNvbG9yOiAjZmZmOw0KICBib3JkZXI6IDA7DQogIGN1cnNvcjogcG9pbnRlcjsNCiAgYm9yZGVyLXJhZGl1czogMTBweDsNCn0NCi5zaWduX2J0bjpob3ZlciB7DQogIGJhY2tncm91bmQtY29sb3I6IGRhcmtibHVlOw0KfQ0KLnJlcXVpcmUgew0KICB0b3A6IDc3JTsNCiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICBjb2xvcjogYmxhY2s7DQogIHJpZ2h0OiAxMCU7DQogIHdpZHRoOiBhdXRvOw0KICBmb250LXNpemU6IDEwcHg7DQogIGxpbmUtaGVpZ2h0OiA0Ow0KICBib3JkZXI6IDA7DQogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQp9DQoucmVxdWlyZTpob3ZlciB7DQogIGNvbG9yOiBkYXJrZ3JleTsNCn0NCi5yZWQgew0KICBib3JkZXI6IDFweCBzb2xpZCByZWQ7DQp9DQo="},{"version":3,"sources":["Loginpage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Loginpage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"loginpage\">\r\n    <div class=\"all\">\r\n      <img\r\n        src=\"../img/closeloginpage.png\"\r\n        alt=\"\"\r\n        @click=\"close\"\r\n        class=\"close\"\r\n      />\r\n      <img src=\"../img/heart.jpg\" alt=\"\" class=\"heart\" />\r\n\r\n      <div class=\"login\">\r\n        <h1>登录</h1>\r\n        <input type=\"text\" placeholder=\"手机号\" class=\"name\" />\r\n        <input type=\"password\" name=\"\" placeholder=\"密码\" class=\"password\" />\r\n        <button class=\"login_in\" @click=\"login\">登录</button>\r\n        <a href=\"#\" class=\"forget\">忘记密码？</a>\r\n        <a href=\"#\" class=\"no_ccount\">还没账号？</a>\r\n        <button class=\"sign_in\" @click=\"sign\">立即注册</button>\r\n      </div>\r\n      <div class=\"sign\">\r\n        <img src=\"../img/down.png\" alt=\"\" class=\"down\" @click=\"down\" />\r\n        <h1>注册</h1>\r\n        <input type=\"text\" placeholder=\"真实姓名\" class=\"sign_name\" />\r\n        <input type=\"text\" placeholder=\"昵称\" class=\"sign_nickname\" />\r\n        <input type=\"text\" placeholder=\"手机号\" class=\"sign_phone\" />\r\n        <input type=\"password\" placeholder=\"输入密码\" class=\"sign_password\" />\r\n        <input type=\"text\" placeholder=\"验证码\" class=\"sign_verification\" />\r\n        <a href=\"#\" class=\"require\" @click=\"having\">{{ text }}</a>\r\n        <button class=\"sign_btn\" @click=\"sign_btn\">注册</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport bus from \"../utils/bus\";\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nexport default {\r\n  name: \"Head\",\r\n  data() {\r\n    return {\r\n      text: \"获取验证码\",\r\n      result: false,\r\n      token: \"\",\r\n    };\r\n  },\r\n  mounted() {\r\n    bus.$off(\"login\"); //阻止事件被触发多次\r\n    bus.$on(\"login\", this.show); //绑定\r\n  },\r\n  methods: {\r\n    show() {\r\n      let storagepage = document.getElementsByClassName(\"loginpage\")[0];\r\n      storagepage.style.visibility = \"visible\";\r\n    },\r\n    close() {\r\n      let storagepage = document.getElementsByClassName(\"loginpage\")[0];\r\n      storagepage.style.visibility = \"hidden\";\r\n      let sign = document.getElementsByClassName(\"sign\")[0];\r\n      sign.style.height = \"0%\";\r\n      sign.style.visibility = \"hidden\";\r\n      sign.style.transition = \"0s\";\r\n    },\r\n    login() {\r\n      let name = document.getElementsByClassName(\"name\")[0];\r\n      let password = document.getElementsByClassName(\"password\")[0];\r\n      let reg =\r\n        /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\r\n      let result = reg.test(name.value);\r\n      //发送请求校验手机号码以及密码是否正确 正确弹窗登录成功！\r\n      //输入正确，赋值给head.vue组件中的数据username，弹窗登录成功\r\n      let that = this;\r\n\r\n      axios({\r\n        url: \"https://www.netdisc.cloud/login\",\r\n        method: \"post\",\r\n        data: {\r\n          account: name.value,\r\n          password: password.value\r\n        },\r\n      })\r\n        .then(function (res) {\r\n          console.log(res);\r\n          if (res.data.code == 0) {\r\n            //请求成功\r\n            //利用localstorage存储到本地\r\n            sessionStorage.setItem(\"token\", res.headers.token);\r\n            bus.$emit(\"loginsucess\", \"success\");\r\n            bus.$emit(\"changeusername\", res.data.data.nickname);\r\n            bus.$emit(\"loginmessage\",{\r\n              username:res.data.data.nickname,\r\n              account:res.data.data.account,\r\n              avatarUrl:res.data.data.avatarUrl\r\n            });\r\n            bus.$emit(\"pearsonalmessage\",{\r\n              username:res.data.data.nickname,\r\n              account:res.data.data.account,\r\n              avatarUrl:res.data.data.avatarUrl\r\n            });\r\n            bus.$emit(\"chartmessage\",{\r\n              nickname:\"liuyingying\",\r\n              avatarUrl:require(\"../img/bluefile.jpg\"),\r\n            })\r\n            that.close();\r\n          } else {\r\n            console.log(res.data.code);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    sign() {\r\n      let sign = document.getElementsByClassName(\"sign\")[0];\r\n      sign.style.visibility = \"visible\";\r\n      sign.style.height = \"90%\";\r\n      sign.style.transition = \"0.5s\";\r\n    },\r\n    down() {\r\n      let sign = document.getElementsByClassName(\"sign\")[0];\r\n      sign.style.height = \"0%\";\r\n      sign.style.visibility = \"hidden\";\r\n      sign.style.transition = \"0s\";\r\n    },\r\n    //点击注册\r\n    sign_btn() {\r\n      let sign_name = document.getElementsByClassName(\"sign_name\")[0];\r\n      let sign_nickname = document.getElementsByClassName(\"sign_nickname\")[0];\r\n      let sign_phone = document.getElementsByClassName(\"sign_phone\")[0];\r\n      let sign_password = document.getElementsByClassName(\"sign_password\")[0];\r\n      let sign_verification =\r\n        document.getElementsByClassName(\"sign_verification\")[0];\r\n      //发送请求，全部携带\r\n      axios({\r\n        url: \"https://www.netdisc.cloud/register\",\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        data: {\r\n          nickname: sign_nickname.value,\r\n          username: sign_name.value,\r\n          account: sign_phone.value,\r\n          password: sign_password.value,\r\n          // code: sign_verification.value,\r\n        },\r\n      })\r\n        .then(function (res) {\r\n          console.log(res);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n      //后端返回结果\r\n      //请求成功，弹窗\r\n      alert(\"注册成功\");\r\n      //退出注册\r\n      this.down();\r\n      //验证码错误则提示验证错误\r\n    },\r\n\r\n    having() {\r\n      let sign_phone = document.getElementsByClassName(\"sign_phone\")[0];\r\n      //验证手机号\r\n      let reg =\r\n        /^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\\d{8}$/;\r\n      let result = reg.test(sign_phone.value);\r\n      console.log(sign_phone.value);\r\n      // this.result = result;\r\n      //判断手机号是否填写正确\r\n      if (result) {\r\n        sign_phone.classList.remove(\"red\");\r\n        // 手机号正确,发送手机号给后端请求\r\n        axios({\r\n          url: \"https://www.netdisc.cloud/getCode\",\r\n          method: \"get\",\r\n          params: {\r\n            account: sign_phone.value,\r\n          },\r\n        })\r\n          .then(function (res) {\r\n            console.log(res);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n        //倒计时60s发送\r\n        this.gettime();\r\n      } else {\r\n        //错误，手机号框为红色\r\n        sign_phone.classList.add(\"red\");\r\n        //弹窗提示\r\n        bus.$emit(\"phone_error\", 1);\r\n      }\r\n    },\r\n    gettime() {\r\n      this.text = 120;\r\n      let timer = setInterval(() => {\r\n        if (this.text == 0) {\r\n          clearInterval(timer);\r\n          this.text = \"获取验证码\";\r\n        } else {\r\n          this.text--;\r\n        }\r\n      }, 1000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.loginpage {\r\n  position: fixed;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: rgba(0, 0, 0, 0.4);\r\n  z-index: 99;\r\n  visibility: hidden;\r\n}\r\n\r\n.all {\r\n  position: absolute;\r\n  height: 70%;\r\n  width: 55%;\r\n  background-color: #fff;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  border-radius: 10px;\r\n}\r\n.all .close {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  height: 4%;\r\n  top: 2%;\r\n  right: 2%;\r\n}\r\n.heart {\r\n  position: absolute;\r\n  height: 100%;\r\n  border-bottom-left-radius: 10px;\r\n  border-top-left-radius: 10px;\r\n}\r\n.login,\r\n.sign {\r\n  position: absolute;\r\n  height: 90%;\r\n  width: 45%;\r\n  bottom: 0;\r\n  right: 0;\r\n  border-bottom-right-radius: 10px;\r\n}\r\n.sign {\r\n  height: 0%;\r\n  background-color: #fff;\r\n  visibility: hidden;\r\n}\r\n.name,\r\n.password,\r\n.sign_name,\r\n.sign_nickname,\r\n.sign_phone,\r\n.sign_password,\r\n.sign_verification,\r\n.require {\r\n  position: absolute;\r\n  height: 8%;\r\n  width: 90%;\r\n  text-align: center;\r\n  border: 1px solid #e0e0e0;\r\n}\r\n.password {\r\n  top: 30%;\r\n}\r\n.login_in,\r\n.sign_in {\r\n  position: absolute;\r\n  height: 8%;\r\n  width: 50%;\r\n  left: 20%;\r\n  background-color: cornflowerblue;\r\n  color: #fff;\r\n  top: 45%;\r\n  border: 0;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n}\r\n.login_in:hover {\r\n  background-color: darkblue;\r\n}\r\n.forget,\r\n.no_ccount {\r\n  position: absolute;\r\n  top: 55%;\r\n  text-decoration: none;\r\n  font-size: smaller;\r\n  color: dimgrey;\r\n}\r\n.no_ccount {\r\n  top: 70%;\r\n}\r\n.sign_in {\r\n  top: 80%;\r\n  background-color: cadetblue;\r\n}\r\n.sign_in:hover {\r\n  background-color: brown;\r\n}\r\n.down {\r\n  position: absolute;\r\n  height: 10%;\r\n  cursor: pointer;\r\n}\r\n.sign_name {\r\n  top: 25%;\r\n}\r\n.sign h1 {\r\n  position: absolute;\r\n  top: 10%;\r\n}\r\n.sign_nickname {\r\n  top: 38%;\r\n}\r\n.sign_phone {\r\n  top: 51%;\r\n}\r\n.sign_password {\r\n  top: 64%;\r\n}\r\n.sign_verification {\r\n  top: 77%;\r\n}\r\n\r\n.sign_btn {\r\n  position: absolute;\r\n  width: 50%;\r\n  left: 20%;\r\n  top: 88%;\r\n  height: 8%;\r\n  background-color: cornflowerblue;\r\n  color: #fff;\r\n  border: 0;\r\n  cursor: pointer;\r\n  border-radius: 10px;\r\n}\r\n.sign_btn:hover {\r\n  background-color: darkblue;\r\n}\r\n.require {\r\n  top: 77%;\r\n  text-decoration: none;\r\n  color: black;\r\n  right: 10%;\r\n  width: auto;\r\n  font-size: 10px;\r\n  line-height: 4;\r\n  border: 0;\r\n  vertical-align: middle;\r\n}\r\n.require:hover {\r\n  color: darkgrey;\r\n}\r\n.red {\r\n  border: 1px solid red;\r\n}\r\n</style>"]}]}